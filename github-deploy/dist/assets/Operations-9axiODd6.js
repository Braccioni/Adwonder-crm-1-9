import{c as M,s as y,j as e,C as D,U as E,u as O,r as g,X as B,d as A,f as $,B as I}from"./index-DgQnJBRP.js";import{a as q,T as U,S as G,P as k}from"./trash-2-ZARSRhba.js";import{f as de,i as me}from"./it-Byu6YFuj.js";import{c as ue}from"./clientService-DOg-DVUb.js";import{M as R,P as H}from"./phone-DgSdS8d9.js";import{E as P}from"./euro-ho5eT_Bs.js";import"./cacheManager-C0Kc18OK.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),C={async getAll(){try{const{data:t,error:r}=await y.from("projects").select(`
          *,
          client:clients(*),
          collaboratori:project_collaborators(
            *,
            collaborator:collaborators(*)
          )
        `).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.warn("Error fetching projects:",t),[]}},async getById(t){try{const{data:r,error:l}=await y.from("projects").select(`
          *,
          client:clients(*),
          collaboratori:project_collaborators(
            *,
            collaborator:collaborators(*)
          )
        `).eq("id",t).single();if(l)throw l;return r}catch(r){return console.warn("Error fetching project:",r),null}},async create(t){try{const{data:r,error:l}=await y.from("projects").insert({...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select(`
          *,
          client:clients(*)
        `).single();if(l)throw l;return r}catch(r){throw console.warn("Error creating project:",r),r}},async update(t,r){try{const{data:l,error:u}=await y.from("projects").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select(`
          *,
          client:clients(*),
          collaboratori:project_collaborators(
            *,
            collaborator:collaborators(*)
          )
        `).single();if(u)throw u;return l}catch(l){throw console.warn("Error updating project:",l),l}},async delete(t){try{const{error:r}=await y.from("projects").delete().eq("id",t);if(r)throw r}catch(r){throw console.warn("Error deleting project:",r),r}},async getActiveProjects(){try{const{data:t,error:r}=await y.from("projects").select(`
          *,
          client:clients(*),
          collaboratori:project_collaborators(
            *,
            collaborator:collaborators(*)
          )
        `).in("stato",["pianificazione","in_corso"]).order("priorita",{ascending:!1}).order("data_inizio",{ascending:!0});if(r)throw r;return t||[]}catch(t){return console.warn("Error fetching active projects:",t),[]}}},S={async getAll(){try{const{data:t,error:r}=await y.from("collaborators").select("*").order("cognome",{ascending:!0});if(r)throw r;return t||[]}catch(t){return console.warn("Error fetching collaborators:",t),[]}},async getById(t){try{const{data:r,error:l}=await y.from("collaborators").select("*").eq("id",t).single();if(l)throw l;return r}catch(r){return console.warn("Error fetching collaborator:",r),null}},async create(t){try{const{data:r,error:l}=await y.from("collaborators").insert({nome:t.nome,cognome:t.cognome,email:t.email,telefono:t.telefono,ruolo_principale:t.ruolo_principale,tipo_compenso:t.tipo_compenso,compenso_per_gettone:t.compenso_per_gettone,compenso_fisso:t.compenso_fisso,gettoni_disponibili:t.gettoni_disponibili,user_id:t.user_id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(l)throw l;return r}catch(r){throw console.warn("Error creating collaborator:",r),r}},async update(t,r){try{const{data:l,error:u}=await y.from("collaborators").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select("*").single();if(u)throw u;return l}catch(l){throw console.warn("Error updating collaborator:",l),l}},async delete(t){try{const{error:r}=await y.from("collaborators").delete().eq("id",t);if(r)throw r}catch(r){throw console.warn("Error deleting collaborator:",r),r}},async updateTokens(t,r){try{const{data:l,error:u}=await y.from("collaborators").update({gettoni_disponibili:r,updated_at:new Date().toISOString()}).eq("id",t).select("*").single();if(u)throw u;return l}catch(l){throw console.warn("Error updating collaborator tokens:",l),l}}},ge=({project:t,onEdit:r,onDelete:l,getStatusColor:u,getPriorityColor:o})=>{var p,s,m,n;const v=c=>de(new Date(c),"dd MMM yyyy",{locale:me}),a=c=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(c),f=()=>!t.budget_stimato||t.budget_stimato===0?0:Math.min((t.budget_utilizzato||0)/t.budget_stimato*100,100),d=()=>{const c=new Date,b=new Date(t.data_fine_prevista);return c>b&&!["completato","annullato"].includes(t.stato)},_=((p=t.collaboratori)==null?void 0:p.reduce((c,b)=>c+b.gettoni_assegnati,0))||0,x=((s=t.collaboratori)==null?void 0:s.reduce((c,b)=>c+b.gettoni_utilizzati,0))||0;return e.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.nome_progetto}),e.jsx("p",{className:"text-sm text-gray-600",children:(m=t.client)==null?void 0:m.nome_azienda})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>r(t),className:"text-blue-600 hover:text-blue-900 transition-colors",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l(t.id),className:"text-red-600 hover:text-red-900 transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(t.stato)}`,children:t.stato.replace("_"," ").toUpperCase()}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(t.priorita)}`,children:t.priorita.toUpperCase()}),d()&&e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 flex items-center",children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),"SCADUTO"]})]}),t.descrizione&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.descrizione}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Inizio: ",v(t.data_inizio)]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Fine prevista: ",v(t.data_fine_prevista)]})]}),t.data_fine_effettiva&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Fine effettiva: ",v(t.data_fine_effettiva)]})]})]}),t.budget_stimato&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Budget"}),e.jsxs("span",{children:[a(t.budget_utilizzato||0)," / ",a(t.budget_stimato)]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${f()>90?"bg-red-500":f()>75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${f()}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[((n=t.collaboratori)==null?void 0:n.length)||0," collaboratori"]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-xs",children:["Gettoni: ",x,"/",_]})})]}),t.collaboratori&&t.collaboratori.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Collaboratori"}),e.jsxs("div",{className:"space-y-2",children:[t.collaboratori.slice(0,3).map(c=>{var b,j;return e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-700",children:[(b=c.collaborator)==null?void 0:b.nome," ",(j=c.collaborator)==null?void 0:j.cognome]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-500",children:c.ruolo_progetto}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c.gettoni_utilizzati,"/",c.gettoni_assegnati]})]})]},c.id)}),t.collaboratori.length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",t.collaboratori.length-3," altri collaboratori"]})]})]})]})})},pe=({project:t,onSubmit:r,onClose:l})=>{const{user:u}=O(),[o,v]=g.useState([]),[a,f]=g.useState({nome_progetto:"",descrizione:"",client_id:"",stato:"pianificazione",priorita:"media",data_inizio:"",data_fine_prevista:"",data_fine_effettiva:"",budget_stimato:"",budget_utilizzato:"",note:"",user_id:(u==null?void 0:u.id)||""}),[d,_]=g.useState({});g.useEffect(()=>{var n,c;x(),t&&f({nome_progetto:t.nome_progetto,descrizione:t.descrizione||"",client_id:t.client_id,stato:t.stato,priorita:t.priorita,data_inizio:t.data_inizio.split("T")[0],data_fine_prevista:t.data_fine_prevista.split("T")[0],data_fine_effettiva:t.data_fine_effettiva?t.data_fine_effettiva.split("T")[0]:"",budget_stimato:((n=t.budget_stimato)==null?void 0:n.toString())||"",budget_utilizzato:((c=t.budget_utilizzato)==null?void 0:c.toString())||"",note:t.note||"",user_id:t.user_id})},[t]);const x=async()=>{try{const n=await ue.getAll();v(n)}catch(n){console.error("Error loading clients:",n)}},p=()=>{const n={};if(a.nome_progetto.trim()||(n.nome_progetto="Il nome del progetto è obbligatorio"),a.client_id||(n.client_id="Seleziona un cliente"),a.data_inizio||(n.data_inizio="La data di inizio è obbligatoria"),a.data_fine_prevista||(n.data_fine_prevista="La data di fine prevista è obbligatoria"),a.data_inizio&&a.data_fine_prevista){const c=new Date(a.data_inizio),b=new Date(a.data_fine_prevista);c>=b&&(n.data_fine_prevista="La data di fine deve essere successiva alla data di inizio")}if(a.data_fine_effettiva&&a.data_inizio){const c=new Date(a.data_inizio);new Date(a.data_fine_effettiva)<c&&(n.data_fine_effettiva="La data di fine effettiva non può essere precedente alla data di inizio")}if(a.budget_stimato&&parseFloat(a.budget_stimato)<0&&(n.budget_stimato="Il budget stimato deve essere positivo"),a.budget_utilizzato&&parseFloat(a.budget_utilizzato)<0&&(n.budget_utilizzato="Il budget utilizzato deve essere positivo"),a.budget_stimato&&a.budget_utilizzato){const c=parseFloat(a.budget_stimato);parseFloat(a.budget_utilizzato)>c&&(n.budget_utilizzato="Il budget utilizzato non può superare quello stimato")}return _(n),Object.keys(n).length===0},s=n=>{if(n.preventDefault(),!p())return;const c={nome_progetto:a.nome_progetto.trim(),descrizione:a.descrizione.trim()||void 0,client_id:a.client_id,stato:a.stato,priorita:a.priorita,data_inizio:new Date(a.data_inizio).toISOString(),data_fine_prevista:new Date(a.data_fine_prevista).toISOString(),data_fine_effettiva:a.data_fine_effettiva?new Date(a.data_fine_effettiva).toISOString():void 0,budget_stimato:a.budget_stimato?parseFloat(a.budget_stimato):void 0,budget_utilizzato:a.budget_utilizzato?parseFloat(a.budget_utilizzato):void 0,note:a.note.trim()||void 0,user_id:a.user_id};r(c)},m=n=>{const{name:c,value:b}=n.target;f(j=>({...j,[c]:b})),d[c]&&_(j=>({...j,[c]:""}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Modifica Progetto":"Nuovo Progetto"}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(B,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:s,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Progetto *"}),e.jsx("input",{type:"text",name:"nome_progetto",value:a.nome_progetto,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.nome_progetto?"border-red-500":"border-gray-300"}`,placeholder:"Inserisci il nome del progetto"}),d.nome_progetto&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.nome_progetto})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),e.jsxs("select",{name:"client_id",value:a.client_id,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.client_id?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Seleziona un cliente"}),o.map(n=>e.jsx("option",{value:n.id,children:n.nome_azienda},n.id))]}),d.client_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.client_id})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stato"}),e.jsxs("select",{name:"stato",value:a.stato,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pianificazione",children:"Pianificazione"}),e.jsx("option",{value:"in_corso",children:"In Corso"}),e.jsx("option",{value:"completato",children:"Completato"}),e.jsx("option",{value:"sospeso",children:"Sospeso"}),e.jsx("option",{value:"annullato",children:"Annullato"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorità"}),e.jsxs("select",{name:"priorita",value:a.priorita,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"bassa",children:"Bassa"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"alta",children:"Alta"}),e.jsx("option",{value:"critica",children:"Critica"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Inizio *"}),e.jsx("input",{type:"date",name:"data_inizio",value:a.data_inizio,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.data_inizio?"border-red-500":"border-gray-300"}`}),d.data_inizio&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.data_inizio})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Fine Prevista *"}),e.jsx("input",{type:"date",name:"data_fine_prevista",value:a.data_fine_prevista,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.data_fine_prevista?"border-red-500":"border-gray-300"}`}),d.data_fine_prevista&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.data_fine_prevista})]})]}),(a.stato==="completato"||a.data_fine_effettiva)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Fine Effettiva"}),e.jsx("input",{type:"date",name:"data_fine_effettiva",value:a.data_fine_effettiva,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.data_fine_effettiva?"border-red-500":"border-gray-300"}`}),d.data_fine_effettiva&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.data_fine_effettiva})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Stimato (€)"}),e.jsx("input",{type:"number",name:"budget_stimato",value:a.budget_stimato,onChange:m,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.budget_stimato?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),d.budget_stimato&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.budget_stimato})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Utilizzato (€)"}),e.jsx("input",{type:"number",name:"budget_utilizzato",value:a.budget_utilizzato,onChange:m,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.budget_utilizzato?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),d.budget_utilizzato&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.budget_utilizzato})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrizione"}),e.jsx("textarea",{name:"descrizione",value:a.descrizione,onChange:m,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descrizione del progetto..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),e.jsx("textarea",{name:"note",value:a.note,onChange:m,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Note aggiuntive..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Annulla"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 transition-colors",children:[t?"Aggiorna":"Crea"," Progetto"]})]})]})]})})},be=({collaborators:t,onEdit:r,onDelete:l,onAddNew:u})=>{const[o,v]=g.useState(""),[a,f]=g.useState("all"),d=t.filter(s=>{const m=s.nome.toLowerCase().includes(o.toLowerCase())||s.cognome.toLowerCase().includes(o.toLowerCase())||s.email.toLowerCase().includes(o.toLowerCase()),n=a==="all"||s.ruolo_principale===a;return m&&n}),_=s=>({project_manager:"Project Manager",developer:"Sviluppatore",designer:"Designer",analyst:"Analista",consultant:"Consulente",grafico:"Grafico",amazon_specialist:"Amazon Specialist",linkedin_specialist:"LinkedIn Specialist",advertiser:"Advertiser",altro:"Altro"})[s]||s,x=s=>({project_manager:"bg-purple-100 text-purple-800",developer:"bg-blue-100 text-blue-800",designer:"bg-pink-100 text-pink-800",analyst:"bg-green-100 text-green-800",consultant:"bg-yellow-100 text-yellow-800",grafico:"bg-orange-100 text-orange-800",amazon_specialist:"bg-amber-100 text-amber-800",linkedin_specialist:"bg-cyan-100 text-cyan-800",advertiser:"bg-red-100 text-red-800",altro:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",p=s=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(s);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Cerca collaboratori...",value:o,onChange:s=>v(s.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]})}),e.jsxs("select",{value:a,onChange:s=>f(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutti i ruoli"}),e.jsx("option",{value:"project_manager",children:"Project Manager"}),e.jsx("option",{value:"developer",children:"Sviluppatore"}),e.jsx("option",{value:"designer",children:"Designer"}),e.jsx("option",{value:"analyst",children:"Analista"}),e.jsx("option",{value:"consultant",children:"Consulente"}),e.jsx("option",{value:"grafico",children:"Grafico"}),e.jsx("option",{value:"amazon_specialist",children:"Amazon Specialist"}),e.jsx("option",{value:"linkedin_specialist",children:"LinkedIn Specialist"}),e.jsx("option",{value:"advertiser",children:"Advertiser"}),e.jsx("option",{value:"altro",children:"Altro"})]}),e.jsxs("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Nuovo Collaboratore"})]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(s=>e.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s.nome," ",s.cognome]}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mt-2 ${x(s.ruolo_principale)}`,children:_(s.ruolo_principale)})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>r(s),className:"text-blue-600 hover:text-blue-900 transition-colors",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l(s.id),className:"text-red-600 hover:text-red-900 transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:s.email})]}),s.telefono&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:s.telefono})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Gettoni disponibili"})]}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:s.gettoni_disponibili})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:s.tipo_compenso==="gettone"?"Compenso/gettone":"Compenso fisso"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tipo_compenso==="gettone"&&s.compenso_per_gettone?p(s.compenso_per_gettone):s.tipo_compenso==="fisso"&&s.compenso_fisso?p(s.compenso_fisso):"Non definito"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Stato gettoni"}),e.jsx("span",{className:`px-2 py-1 rounded ${s.gettoni_disponibili>20?"bg-green-100 text-green-800":s.gettoni_disponibili>10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.gettoni_disponibili>20?"Ottimo":s.gettoni_disponibili>10?"Medio":"Basso"})]})})]})},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Nessun collaboratore trovato"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||a!=="all"?"Prova a modificare i filtri di ricerca":"Inizia aggiungendo il tuo primo collaboratore"}),!o&&a==="all"&&e.jsxs("button",{onClick:u,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(k,{className:"-ml-1 mr-2 h-5 w-5"}),"Aggiungi primo collaboratore"]})]})]})},he=({collaborator:t,onSave:r,onCancel:l,isLoading:u=!1})=>{const[o,v]=g.useState({nome:"",cognome:"",email:"",telefono:"",ruolo_principale:"developer",tipo_compenso:"gettone",compenso_per_gettone:0,compenso_fisso:0,gettoni_disponibili:0}),[a,f]=g.useState({});g.useEffect(()=>{t&&v({nome:t.nome,cognome:t.cognome,email:t.email,telefono:t.telefono||"",ruolo_principale:t.ruolo_principale,tipo_compenso:t.tipo_compenso,compenso_per_gettone:t.compenso_per_gettone||0,compenso_fisso:t.compenso_fisso||0,gettoni_disponibili:t.gettoni_disponibili})},[t]);const d=()=>{const s={};return o.nome.trim()||(s.nome="Il nome è obbligatorio"),o.cognome.trim()||(s.cognome="Il cognome è obbligatorio"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(s.email="Inserisci un'email valida"):s.email="L'email è obbligatoria",o.gettoni_disponibili<0&&(s.gettoni_disponibili="I gettoni non possono essere negativi"),o.tipo_compenso==="gettone"&&o.compenso_per_gettone<=0&&(s.compenso_per_gettone="Il compenso per gettone deve essere maggiore di zero"),o.tipo_compenso==="fisso"&&o.compenso_fisso<=0&&(s.compenso_fisso="Il compenso fisso deve essere maggiore di zero"),o.telefono&&!/^[+]?[0-9\s-()]+$/.test(o.telefono)&&(s.telefono="Inserisci un numero di telefono valido"),f(s),Object.keys(s).length===0},_=s=>{s.preventDefault(),d()&&r({nome:o.nome,cognome:o.cognome,email:o.email,telefono:o.telefono||void 0,ruolo_principale:o.ruolo_principale,tipo_compenso:o.tipo_compenso,compenso_per_gettone:o.tipo_compenso==="gettone"?o.compenso_per_gettone:void 0,compenso_fisso:o.tipo_compenso==="fisso"?o.compenso_fisso:void 0,gettoni_disponibili:o.gettoni_disponibili})},x=(s,m)=>{v(n=>({...n,[s]:m})),a[s]&&f(n=>({...n,[s]:""}))},p=s=>({project_manager:"Project Manager",developer:"Sviluppatore",designer:"Designer",analyst:"Analista",consultant:"Consulente",grafico:"Grafico",amazon_specialist:"Amazon Specialist",linkedin_specialist:"LinkedIn Specialist",advertiser:"Advertiser",altro:"Altro"})[s]||s;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Modifica Collaboratore":"Nuovo Collaboratore"}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(B,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($,{className:"w-4 h-4 inline mr-1"}),"Nome *"]}),e.jsx("input",{type:"text",value:o.nome,onChange:s=>x("nome",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.nome?"border-red-500":"border-gray-300"}`,placeholder:"Inserisci il nome"}),a.nome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nome})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($,{className:"w-4 h-4 inline mr-1"}),"Cognome *"]}),e.jsx("input",{type:"text",value:o.cognome,onChange:s=>x("cognome",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.cognome?"border-red-500":"border-gray-300"}`,placeholder:"Inserisci il cognome"}),a.cognome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.cognome})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(R,{className:"w-4 h-4 inline mr-1"}),"Email *"]}),e.jsx("input",{type:"email",value:o.email,onChange:s=>x("email",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.email?"border-red-500":"border-gray-300"}`,placeholder:"email@esempio.com"}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(H,{className:"w-4 h-4 inline mr-1"}),"Telefono"]}),e.jsx("input",{type:"tel",value:o.telefono,onChange:s=>x("telefono",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.telefono?"border-red-500":"border-gray-300"}`,placeholder:"+39 123 456 7890"}),a.telefono&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.telefono})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ruolo Principale *"}),e.jsxs("select",{value:o.ruolo_principale,onChange:s=>x("ruolo_principale",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"project_manager",children:p("project_manager")}),e.jsx("option",{value:"developer",children:p("developer")}),e.jsx("option",{value:"designer",children:p("designer")}),e.jsx("option",{value:"analyst",children:p("analyst")}),e.jsx("option",{value:"consultant",children:p("consultant")}),e.jsx("option",{value:"grafico",children:p("grafico")}),e.jsx("option",{value:"amazon_specialist",children:p("amazon_specialist")}),e.jsx("option",{value:"linkedin_specialist",children:p("linkedin_specialist")}),e.jsx("option",{value:"advertiser",children:p("advertiser")}),e.jsx("option",{value:"altro",children:p("altro")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo di Compenso *"}),e.jsxs("select",{value:o.tipo_compenso,onChange:s=>x("tipo_compenso",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"gettone",children:"Compenso per Gettone"}),e.jsx("option",{value:"fisso",children:"Compenso Fisso"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(A,{className:"w-4 h-4 inline mr-1"}),"Gettoni Disponibili *"]}),e.jsx("input",{type:"number",min:"0",value:o.gettoni_disponibili,onChange:s=>x("gettoni_disponibili",parseInt(s.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.gettoni_disponibili?"border-red-500":"border-gray-300"}`,placeholder:"0"}),a.gettoni_disponibili&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.gettoni_disponibili})]}),o.tipo_compenso==="gettone"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(P,{className:"w-4 h-4 inline mr-1"}),"Compenso per Gettone (€) *"]}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:o.compenso_per_gettone,onChange:s=>x("compenso_per_gettone",parseFloat(s.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.compenso_per_gettone?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),a.compenso_per_gettone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.compenso_per_gettone})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(P,{className:"w-4 h-4 inline mr-1"}),"Compenso Fisso (€) *"]}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:o.compenso_fisso,onChange:s=>x("compenso_fisso",parseFloat(s.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.compenso_fisso?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),a.compenso_fisso&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.compenso_fisso})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Annulla"}),e.jsxs("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:u?"Salvataggio...":"Salva"})]})]})]})]})})},ze=()=>{const{user:t}=O(),[r,l]=g.useState([]),[u,o]=g.useState([]),[v,a]=g.useState(!0),[f,d]=g.useState("projects"),[_,x]=g.useState(!1),[p,s]=g.useState(!1),[m,n]=g.useState(),[c,b]=g.useState(),[j,W]=g.useState(""),[N,X]=g.useState("all"),[w,J]=g.useState("all");g.useEffect(()=>{z()},[]);const z=async()=>{try{a(!0);const[i,h]=await Promise.all([C.getAll(),S.getAll()]);l(i),o(h)}catch(i){console.error("Error loading operations data:",i)}finally{a(!1)}},K=async i=>{try{m?await C.update(m.id,i):await C.create(i),await z(),x(!1),n(void 0)}catch(h){console.error("Error saving project:",h)}},Q=async i=>{try{c?await S.update(c.id,i):await S.create({...i,user_id:(t==null?void 0:t.id)||""}),await z(),s(!1),b(void 0)}catch(h){console.error("Error saving collaborator:",h)}},Y=i=>{n(i),x(!0)},Z=i=>{b(i),s(!0)},ee=async i=>{if(window.confirm("Sei sicuro di voler eliminare questo progetto?"))try{await C.delete(i),await z()}catch(h){console.error("Error deleting project:",h)}},te=async i=>{if(window.confirm("Sei sicuro di voler eliminare questo collaboratore?"))try{await S.delete(i),await z()}catch(h){console.error("Error deleting collaborator:",h)}},F=r.filter(i=>{var L,T;const h=i.nome_progetto.toLowerCase().includes(j.toLowerCase())||((T=(L=i.client)==null?void 0:L.nome_azienda)==null?void 0:T.toLowerCase().includes(j.toLowerCase())),le=N==="all"||i.stato===N,ce=w==="all"||i.priorita===w;return h&&le&&ce}),se=i=>{switch(i){case"pianificazione":return"bg-blue-100 text-blue-800";case"in_corso":return"bg-yellow-100 text-yellow-800";case"completato":return"bg-green-100 text-green-800";case"sospeso":return"bg-gray-100 text-gray-800";case"annullato":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ae=i=>{switch(i){case"bassa":return"bg-green-100 text-green-800";case"media":return"bg-yellow-100 text-yellow-800";case"alta":return"bg-orange-100 text-orange-800";case"critica":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},re=r.filter(i=>["pianificazione","in_corso"].includes(i.stato)),oe=r.reduce((i,h)=>i+(h.budget_stimato||0),0),ie=r.reduce((i,h)=>i+(h.budget_utilizzato||0),0),ne=u.reduce((i,h)=>i+h.gettoni_disponibili,0);return v?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operatività"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestisci progetti attivi e collaboratori"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Progetti Attivi"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:re.length})]}),e.jsx(I,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Collaboratori"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.length})]}),e.jsx(E,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Budget Totale"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["€",oe.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Utilizzato: €",ie.toLocaleString()]})]}),e.jsx(V,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gettoni Totali"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ne})]}),e.jsx(A,{className:"w-8 h-8 text-orange-500"})]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>d("projects"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="projects"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{className:"w-4 h-4 inline mr-2"}),"Progetti"]}),e.jsxs("button",{onClick:()=>d("collaborators"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="collaborators"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(E,{className:"w-4 h-4 inline mr-2"}),"Collaboratori"]})]})}),f==="projects"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Cerca progetti...",value:j,onChange:i=>W(i.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]})}),e.jsxs("select",{value:N,onChange:i=>X(i.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutti gli stati"}),e.jsx("option",{value:"pianificazione",children:"Pianificazione"}),e.jsx("option",{value:"in_corso",children:"In Corso"}),e.jsx("option",{value:"completato",children:"Completato"}),e.jsx("option",{value:"sospeso",children:"Sospeso"}),e.jsx("option",{value:"annullato",children:"Annullato"})]}),e.jsxs("select",{value:w,onChange:i=>J(i.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutte le priorità"}),e.jsx("option",{value:"bassa",children:"Bassa"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"alta",children:"Alta"}),e.jsx("option",{value:"critica",children:"Critica"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Nuovo Progetto"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:F.map(i=>e.jsx(ge,{project:i,onEdit:Y,onDelete:ee,getStatusColor:se,getPriorityColor:ae},i.id))}),F.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nessun progetto trovato"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:j||N!=="all"||w!=="all"?"Prova a modificare i filtri di ricerca":"Inizia creando il tuo primo progetto"}),!j&&N==="all"&&w==="all"&&e.jsxs("button",{onClick:()=>x(!0),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(k,{className:"-ml-1 mr-2 h-5 w-5"}),"Crea primo progetto"]})]})]}),f==="collaborators"&&e.jsx(be,{collaborators:u,onEdit:Z,onDelete:te,onAddNew:()=>s(!0)}),_&&e.jsx(pe,{project:m,onSubmit:K,onClose:()=>{x(!1),n(void 0)}}),p&&e.jsx(he,{collaborator:c,onSave:Q,onCancel:()=>{s(!1),b(void 0)}})]})};export{ze as default};
